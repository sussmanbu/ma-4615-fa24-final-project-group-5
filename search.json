[
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Data",
    "section": "",
    "text": "Author: Group 5\nPublished: December 18, 2024\n\n\n\nWe have found datasets pertaining to race and sex distributions published by the US Equal Employment Opportunity Commission and maintained by Daniel McGregor. It breaks down industries occording to NAICS2 and NAICS3 codes, classifications used in North America to differentiate between all industries. It is collected as a part of the Civil Rights Act of 1964, which specifies that the Equal Employment Opportunity Commission must make periodic reports from public and private employers to gauge the composition of the workforce according to sex and race/ethnicity, from all employers with 100 or more employees, or federal contractors with 50 or more employees. The data was collected in 2017 and 2022 respectively.\nClick here to visit the website\nWe have also found another data set that matches median wage data over a time frame of several months spanning 2023 and 2024 which matches the NAICS job categories we found earlier, sourced from the Bureau of Labor Statistics, called the Current Employment Statistics (CES), which is conducted every month to gauge the overall health of the economy.\nClick here to visit the website\n\n\n\nThe first two data sets relating to ethnic and gender distributions across different fields of employment come from a census commissioned by the US Equal Opportunity Commission, which gathers data on the distribution of protected groups over different industries. Its principal purpose is to ensure adherence within industries and companies to equality and mitigating racial or sex based discrimination in the work force.\nThe other data set pertaining to wage data comes from the Bureau of Labor Statistics, a non-partisan organization whose purpose is to gather data about nationwide labor related statistics to inform congress and the American people.\n\n\n\ncleaned_data.R\nThe columns of our first datasets, cleaned_employment2017 and cleaned_employment2022, primarily break down along racial and gender categories, with each column featuring one of the racial categories featured:\n\nWHT_: White\nBLK_: Black or African American\nHISP_: Hispanic\nASIAN_: Asian\nAIAN_: American Indian or Alaska Native\nNHOPI_: Native Hawaiian or Other Pacific Islander\nTOMR_: Two or More Races\n\nAs well as additional categorizations for male or female.\n\nMT_: Male\nFT_: Female\n\nWithin each race/gender category, there is also a breakdown of the various job types belonging to each industry, numbered as follows:\n\n1 for senior officers and managers\n2 for professionals\n3 for technicians\n4 for sales workers\n5 for clericals\n6 for craft\n7 for operatives\n8 for laborers\n9 for services\n1_2 for mid officers and managers\n10 for the aggregate for the entire category.\n\nIf we wanted to look at both Race and Gender, the column would look like:\n\nTOMRF_\nTOMRM_\n\nFor instance, a column like TOMRF1 would indicate “females” of “two or more races” working as “senior officers or managers”. Then, each row of the dataset corresponds to some NAICS industry designation, delineated by its NAICS number, featuring 246 unique job titles, split by geographic region, for a total of 43,000 rows. Below is a PDF of the column definitions.\nVariable Overview\nOur second dataset, wage_data, features a number of unique industry designations, as well as the associated hourly wage for each of those industries, across the months of October 2023, August 2024, September 2024, and October 2024.\n\n\n\nThere was significant cleaning involved in the data sets for employment2017 and employment2022. To prepare these data sets for analysis, a systematic cleaning process was applied, with the goal of ensuring the data is manageable and meaningful for exploratory and inferential analysis. The following steps summarize the cleaning process:\n\nMany missing values result from privacy protections (e.g., asterisks in cells). These were replaced with NA to maintain data consistency while noting that these gaps may affect certain analyses. Missing data due to underreporting or suppression in specific categories (e.g., small workforce sizes) were logged for potential exclusion or imputation strategies in future stages.\nColumns with redundant or overly verbose labels were renamed for clarity (e.g., “White” re-coded to WHT10, “Black or African American” to BLKT10). Job categories were summed across all race and gender subcategories to simplify initial exploratory analysis.\nAnalysis was narrowed to ~10 job categories listed in the user guide (e.g., Senior Officials and Managers, Professionals, Technicians). Gender was aggregated into male (MT10) and female (FT10) totals to streamline visualizations.\nTotals by race and job category were computed to analyze proportional representation. Separate summaries were created for gender and job category to enable visualization of workforce composition by both axes.\n\nWe did not have to do significant cleaning for the wages data set, because we parsed it directly from a website, so we just picked which data which we were going to actually use in our extraction.\n\n\n\nWe used the “here” library which simplifies the process of managing file paths, which was crucial, working across multiple different systems and computers, for making sure that directories lined up and that the same body of code could work for everyone, no matter how they organized their files on their computer.\n\n\n\nIn order to produce the analysis of race proportion as a function of wages, we needed to combine the data set that listed the racial distributions for each industry with the data set that listed the median wages over different time periods for each industry, using the three digit NAICS number as a key.\nSome issues that came up involve having multiple entries for the same NAICS number, having to filter out NAICS numbers that were more or less than three digits (the number of digits indicating more or less detail in the industry category), and filtering out different time periods to focus on a single month’s median wages, of August 2024."
  },
  {
    "objectID": "data.html#what-is-the-data",
    "href": "data.html#what-is-the-data",
    "title": "Data",
    "section": "",
    "text": "We have found datasets pertaining to race and sex distributions published by the US Equal Employment Opportunity Commission and maintained by Daniel McGregor. It breaks down industries occording to NAICS2 and NAICS3 codes, classifications used in North America to differentiate between all industries. It is collected as a part of the Civil Rights Act of 1964, which specifies that the Equal Employment Opportunity Commission must make periodic reports from public and private employers to gauge the composition of the workforce according to sex and race/ethnicity, from all employers with 100 or more employees, or federal contractors with 50 or more employees. The data was collected in 2017 and 2022 respectively.\nClick here to visit the website\nWe have also found another data set that matches median wage data over a time frame of several months spanning 2023 and 2024 which matches the NAICS job categories we found earlier, sourced from the Bureau of Labor Statistics, called the Current Employment Statistics (CES), which is conducted every month to gauge the overall health of the economy.\nClick here to visit the website"
  },
  {
    "objectID": "data.html#why-was-this-data-assembled",
    "href": "data.html#why-was-this-data-assembled",
    "title": "Data",
    "section": "",
    "text": "The first two data sets relating to ethnic and gender distributions across different fields of employment come from a census commissioned by the US Equal Opportunity Commission, which gathers data on the distribution of protected groups over different industries. Its principal purpose is to ensure adherence within industries and companies to equality and mitigating racial or sex based discrimination in the work force.\nThe other data set pertaining to wage data comes from the Bureau of Labor Statistics, a non-partisan organization whose purpose is to gather data about nationwide labor related statistics to inform congress and the American people."
  },
  {
    "objectID": "data.html#about-the-data-and-our-variables",
    "href": "data.html#about-the-data-and-our-variables",
    "title": "Data",
    "section": "",
    "text": "cleaned_data.R\nThe columns of our first datasets, cleaned_employment2017 and cleaned_employment2022, primarily break down along racial and gender categories, with each column featuring one of the racial categories featured:\n\nWHT_: White\nBLK_: Black or African American\nHISP_: Hispanic\nASIAN_: Asian\nAIAN_: American Indian or Alaska Native\nNHOPI_: Native Hawaiian or Other Pacific Islander\nTOMR_: Two or More Races\n\nAs well as additional categorizations for male or female.\n\nMT_: Male\nFT_: Female\n\nWithin each race/gender category, there is also a breakdown of the various job types belonging to each industry, numbered as follows:\n\n1 for senior officers and managers\n2 for professionals\n3 for technicians\n4 for sales workers\n5 for clericals\n6 for craft\n7 for operatives\n8 for laborers\n9 for services\n1_2 for mid officers and managers\n10 for the aggregate for the entire category.\n\nIf we wanted to look at both Race and Gender, the column would look like:\n\nTOMRF_\nTOMRM_\n\nFor instance, a column like TOMRF1 would indicate “females” of “two or more races” working as “senior officers or managers”. Then, each row of the dataset corresponds to some NAICS industry designation, delineated by its NAICS number, featuring 246 unique job titles, split by geographic region, for a total of 43,000 rows. Below is a PDF of the column definitions.\nVariable Overview\nOur second dataset, wage_data, features a number of unique industry designations, as well as the associated hourly wage for each of those industries, across the months of October 2023, August 2024, September 2024, and October 2024."
  },
  {
    "objectID": "data.html#data-cleaning",
    "href": "data.html#data-cleaning",
    "title": "Data",
    "section": "",
    "text": "There was significant cleaning involved in the data sets for employment2017 and employment2022. To prepare these data sets for analysis, a systematic cleaning process was applied, with the goal of ensuring the data is manageable and meaningful for exploratory and inferential analysis. The following steps summarize the cleaning process:\n\nMany missing values result from privacy protections (e.g., asterisks in cells). These were replaced with NA to maintain data consistency while noting that these gaps may affect certain analyses. Missing data due to underreporting or suppression in specific categories (e.g., small workforce sizes) were logged for potential exclusion or imputation strategies in future stages.\nColumns with redundant or overly verbose labels were renamed for clarity (e.g., “White” re-coded to WHT10, “Black or African American” to BLKT10). Job categories were summed across all race and gender subcategories to simplify initial exploratory analysis.\nAnalysis was narrowed to ~10 job categories listed in the user guide (e.g., Senior Officials and Managers, Professionals, Technicians). Gender was aggregated into male (MT10) and female (FT10) totals to streamline visualizations.\nTotals by race and job category were computed to analyze proportional representation. Separate summaries were created for gender and job category to enable visualization of workforce composition by both axes.\n\nWe did not have to do significant cleaning for the wages data set, because we parsed it directly from a website, so we just picked which data which we were going to actually use in our extraction."
  },
  {
    "objectID": "data.html#additional-r-packages",
    "href": "data.html#additional-r-packages",
    "title": "Data",
    "section": "",
    "text": "We used the “here” library which simplifies the process of managing file paths, which was crucial, working across multiple different systems and computers, for making sure that directories lined up and that the same body of code could work for everyone, no matter how they organized their files on their computer."
  },
  {
    "objectID": "data.html#combining-multiple-data-files",
    "href": "data.html#combining-multiple-data-files",
    "title": "Data",
    "section": "",
    "text": "In order to produce the analysis of race proportion as a function of wages, we needed to combine the data set that listed the racial distributions for each industry with the data set that listed the median wages over different time periods for each industry, using the three digit NAICS number as a key.\nSome issues that came up involve having multiple entries for the same NAICS number, having to filter out NAICS numbers that were more or less than three digits (the number of digits indicating more or less detail in the industry category), and filtering out different time periods to focus on a single month’s median wages, of August 2024."
  },
  {
    "objectID": "scripts/saved_shiny_data.html",
    "href": "scripts/saved_shiny_data.html",
    "title": "MA [46]15 Final Project Group 5",
    "section": "",
    "text": "library(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n library(tidyselect)\n\n employment_2022 &lt;- readRDS(\"dataset/EEO1_2022_PUF.rds\")\n\n employment_2022 &lt;- employment_2022 %&gt;%\n   rename_with(toupper)\n\n cleaned_2022 &lt;- employment_2022 %&gt;%\n   select(\n     NATION, REGION, DIVISION, STATE, CBSA, COUNTY, NAICS2, NAICS2_NAME, NAICS3, NAICS3_NAME, ESTABLISHMENTS,\n     matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT|MT|FT)[1-9](_2)?$\")\n   )\n\n if (!dir.exists(\"../ma-4615-fa24-final-project-group-5/scripts\")) {\n   dir.create(\"../ma-4615-fa24-final-project-group-5/scripts\", recursive = TRUE)\n }\n\n saveRDS(cleaned_2022, \"../ma-4615-fa24-final-project-group-5/scripts/Cleaned_Employment2022.rds\")\n\n\nlibrary(dplyr)\nlibrary(tidyselect)\n\nemployment_data &lt;- readRDS(\"Employment2017.rds\")\n\ncleaned_data &lt;- employment_data %&gt;%\n  select(\n    Nation, Region, Division, State, CBSA, County, NAICS2, NAICS2_Name, NAICS3, NAICS3_Name, Establishments,\n    matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT|MT|FT)[1-9](_2)?$\")\n  )\n\nif (!dir.exists(\"../ma-4615-fa24-final-project-group-5/scripts\")) {\n  dir.create(\"../ma-4615-fa24-final-project-group-5/scripts\", recursive = TRUE)\n}\n\nsaveRDS(cleaned_data, \"../ma-4615-fa24-final-project-group-5/scripts/Cleaned_Employment2017.rds\")"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This comes from the file about.qmd.\nThis is a website for the final project for MA[46]15 Data Science with R by Team 5. The members of this team are below.\n\nJay Chiang\nI am a senior studying data science.\n\n\nYichen Li\nStatistic master student\n\n\nGeorge Jiang\nI am a junior studying data science.\n\n\nIsaac Hu\nI am a senior studying computer science\n\n\nEmily Lin\nI am a junior studying math and statistics\n\n\nAbout this Template.\nThis is based off of the standard Quarto website template from RStudio (2023.09.0 Build 463)."
  },
  {
    "objectID": "posts/2024-10-28-blog-post-3/Blog_Post_3.html",
    "href": "posts/2024-10-28-blog-post-3/Blog_Post_3.html",
    "title": "Blog Post 3",
    "section": "",
    "text": "if (!dir.exists(\"../ma-4615-fa24-final-project-group-5/dataset\")) {\n  dir.create(\"../ma-4615-fa24-final-project-group-5/dataset\")\n}\n\ncsv_employment_data &lt;- read.csv(\"../ma-4615-fa24-final-project-group-5/dataset/Employment2017.csv\")\n\nsaveRDS(csv_employment_data, \"../ma-4615-fa24-final-project-group-5/dataset/Employment2017.rds\")\n\nemployment_data &lt;- readRDS(\"../ma-4615-fa24-final-project-group-5/dataset/Employment2017.rds\")\n\n\n#summary(employment_data)\nsum(is.na(employment_data))\n\n[1] 25763\n\n\nThere are 25763 missing values. Many asterisks are used to protect individuals (employee or establishment) from the risk of identification. An asterisk is sometimes used to protect a vulnerable cell and other times to safeguard another at-risk cell.\nNext, we create 3 charts to help with data visualization. The first bar chart helps us visualize the 10 different job types labeled in the dataset by summing up all the rows within the given columns starting with “TOTAL_” and finding their percentages. The second bar chart does something similar, but this time we want to see the proportionality of the 7 given race variables disregarding job types. In a future blog post, we will look into their proportionality with the different job types. The third pie chart looks at the gender variation (male/female0 between all jobs and races.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nemployment_data &lt;- readRDS(\"Employment2017.rds\")\nemployment_data[employment_data == \"*\"] &lt;- NA\n\ntotal_columns &lt;- c(\"TOTAL1\", \"TOTAL2\", \"TOTAL3\", \"TOTAL4\", \"TOTAL5\", \"TOTAL6\", \"TOTAL7\", \"TOTAL8\", \"TOTAL9\", \"TOTAL1_2\")\n\nemployment_data[total_columns] &lt;- lapply(employment_data[total_columns], function(x) as.numeric(x))\n\nemployment_data[total_columns] &lt;- \n  lapply(employment_data[total_columns], function(x) replace_na(x, 0))\n\ntotal_counts &lt;- colSums(employment_data[total_columns], na.rm = TRUE)\n\nproportion_df &lt;- data.frame(Job_Type = names(total_counts), Count = total_counts)\n\nproportion_df$Job_Type &lt;- recode(proportion_df$Job_Type,\n  TOTAL1 = \"Senior Officers and Managers\",\n  TOTAL2 = \"Professionals\",\n  TOTAL3 = \"Technicians\",\n  TOTAL4 = \"Sales Workers\",\n  TOTAL5 = \"Clericals\",\n  TOTAL6 = \"Craft\",\n  TOTAL7 = \"Operatives\",\n  TOTAL8 = \"Laborers\",\n  TOTAL9 = \"Services\",\n  TOTAL1_2 = \"Mid Officers and Managers\"\n)\n\nproportion_df &lt;- proportion_df %&gt;%\n  mutate(Proportion = Count / sum(Count))\n\nggplot(proportion_df, aes(x = Job_Type, y = Proportion, fill = Job_Type)) +\n  geom_bar(stat = \"identity\") +  \n  labs(title = \"Proportionality of Jobs by Type\", \n       x = \"Job Type\", \n       y = \"Proportion\") +\n  theme_gray() +  \n  scale_y_continuous(labels = scales::percent) +  \n  theme(legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1)) \n\n\n\n\n\n\n\n\n\nrace_columns &lt;- c(\"WHT10\", \"BLKT10\", \"HISPT10\", \"ASIANT10\", \"AIANT10\", \"NHOPIT10\", \"TOMRT10\")\n\nemployment_data[race_columns] &lt;- lapply(employment_data[race_columns], function(x) as.numeric(x))\n\nemployment_data[race_columns] &lt;- \n  lapply(employment_data[race_columns], function(x) replace_na(x, 0))\n\ntotal_race_counts &lt;- colSums(employment_data[race_columns], na.rm = TRUE)\n\nrace_proportion_df &lt;- data.frame(Race = names(total_race_counts), Count = total_race_counts)\n\nrace_proportion_df$Race &lt;- recode(race_proportion_df$Race,\n  WHT10 = \"White\",\n  BLKT10 = \"Black or African American\",\n  HISPT10 = \"Hispanic\",\n  ASIANT10 = \"Asian\",\n  AIANT10 = \"American Indian or Alaska Native\",\n  NHOPIT10 = \"Native Hawaiian or Other Pacific Islander\",\n  TOMRT10 = \"Two or more Races\"\n)\n\nrace_proportion_df &lt;- race_proportion_df %&gt;%\n  mutate(Proportion = Count / sum(Count))\n\nggplot(race_proportion_df, aes(x = Race, y = Proportion, fill = Race)) +\n  geom_bar(stat = \"identity\") +  \n  labs(title = \"Proportionality of Race\", \n       x = \"Race\", \n       y = \"Proportion\") +\n  theme_gray() +  \n  scale_y_continuous(labels = scales::percent) +  \n  theme(legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1)) \n\n\n\n\n\n\n\n\n\ngender_columns &lt;- c(\"MT10\", \"FT10\")\n\nemployment_data[gender_columns] &lt;- lapply(employment_data[gender_columns], function(x) as.numeric(x))\n\nemployment_data[gender_columns] &lt;- \n  lapply(employment_data[gender_columns], function(x) replace_na(x, 0))\n\ntotal_gender_counts &lt;- colSums(employment_data[gender_columns], na.rm = TRUE)\n\ngender_proportion_df &lt;- data.frame(Gender = names(total_gender_counts), Count = total_gender_counts)\n\ngender_proportion_df$Gender &lt;- recode(gender_proportion_df$Gender,\n  MT10 = \"Male\", FT10 = \"Female\")\n\ngender_proportion_df &lt;- gender_proportion_df %&gt;%\n  mutate(Proportion = Count / sum(Count),\n         Percentage = Proportion * 100)  \n\nggplot(gender_proportion_df, aes(x = \"\", y = Proportion, fill = Gender)) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") + \n  labs(title = \"Proportionality of Gender\", \n       fill = \"Gender\") +\n  theme_gray() +  \n  theme(axis.title.x = element_blank(),\n        axis.title.y = element_blank(),\n        axis.ticks = element_blank(),\n        axis.text = element_blank()) +\n  geom_text(aes(label = paste0(round(Percentage, 1), \"%\")), \n            position = position_stack(vjust = 0.5)) \n\n\n\n\n\n\n\n\nNext, we create our cleaned folder. It is also included in the data.qmd as well as the scripts/cleaned_data file.\n\nlibrary(dplyr)\nlibrary(tidyselect)\n\nemployment_data &lt;- readRDS(\"Employment2017.rds\")\n\n# Select columns with race and job categories\ncleaned_data &lt;- employment_data %&gt;%\n  select(\n    Nation, Region, Division, State, CBSA, County, NAICS2, NAICS2_Name, NAICS3, NAICS3_Name, Establishments,\n    matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT|MT|FT)[1-9](_2)?$\")\n  )\n\n# Ensure the directory exists, then save the cleaned data\nif (!dir.exists(\"../ma-4615-fa24-final-project-group-5/dataset\")) {\n  dir.create(\"../ma-4615-fa24-final-project-group-5/dataset\", recursive = TRUE)\n}\n\nsaveRDS(cleaned_data, \"../ma-4615-fa24-final-project-group-5/dataset/Cleaned_Employment2017.rds\")\n\ncleaned_dataset &lt;- readRDS(\"dataset/Cleaned_Employment2017.rds\")\n\nData for Equity\nTransparency\nTransparency is a critical component in equitable data analysis. In our project, being transparent would provide us with any potential limitations in the dataset, such as the lack of representation for smaller sized companies. This exclusion could skew our analysis, if smaller sized companies employ more people from certain demographic groups or adhere to different hiring practices.\nPrivacy and Data Protection\nIn our dataset, the use of asterisks (*) in cells are designed to prevent individual identification, which aligns with the Privacy and Data Protection principle by protecting vulnerable populations. Doing so avoids any attempts to infer or disaggregate data that could lead to re-identifying individuals or small groups, particularly in fields where there is limited representation (e.g., certain job categories or minority groups). This respect for privacy aligns with data equity by fostering a safe environment for marginalized communities.\nInclusivity and Representativeness\nIn our dataset, focusing on medium sized companies disregards the smaller sized companies, which could include potentially significance in minority or gender-represented employment. It is important to include all data as it better captures a representation of the dataset for all demographic groups. By including data on smaller sized companies, we are able to broaden the analysis and provide a more complete picture of industry disparities and representation across all workforce segments. This is particularly significant as many family businesses, which fall beyond the purview of our dataset, tend to be minority owned."
  },
  {
    "objectID": "posts/2024-12-09-blog-post-7/Blog Post 7.html",
    "href": "posts/2024-12-09-blog-post-7/Blog Post 7.html",
    "title": "Blog Post 7",
    "section": "",
    "text": "For the final stages of our project, we aim to deepen our exploratory data analysis by making additional visual representations that might reveal previously hidden trends. We’ll focus particularly on plots, paying special attention to the CBSA column, which offers rich geographical insights spanning multiple states like Allentown-Bethlehem-Easton, PA-NJ. It may be difficult to look for a separating factor to get data based on states, but we will work for that.\nOur tentative thesis is as follows: “Disparities in occupational representations and earnings persist across race and gender, as evidenced by labor data from 2017 and 2022, with notable variances in specific job categories and evolving wage trends suggesting systematic inequalities.” The analysis reveals significant inequalities across job categories and wage structures. Notably, sector-specific trends demonstrate nuanced patterns of workforce representation and growth.\nFor example, the “HISPT” sector experienced notable proportional growth in job categories including Crafts, Technicians, Laborers, Services, and Senior Officers & Managers. Despite a smaller absolute job increase compared to the “WHT” sector, the growth rates were particularly striking. Similarly, the “BLKT” sector showed expansion in Laborers, Technicians, and Services roles. We will look into further tests to prove these trends if possible with our dataset.\nThere was consistency across all sectors regarding the increased proportional representation of women, especially in key professional categories such as Senior Officers and Managers, Technicians, Crafts, Services, and Mid-level Officer positions. To enhance the project’s visual communication, we plan to leverage advanced data visualization tools. Specifically, we’ll use the Plotly package in R to improve figure quality and the DT package to create tables.\nOur refinement strategy included several critical improvements: -Clarifying axis labels -Ensuring scales are intuitive and readable -Adding explanatory captions and annotations -Strategically highlighting key findings to improve interpretability\nThese enhancements will help make our complex data more accessible and meaningful to the general audience. We will also continue working on the wages dataset to see if we can provide visual representation to the audience.\n\n\nMatching 3-digit NAICS codes:\n\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\""
  },
  {
    "objectID": "posts/2024-10-11-first-blog-post/first-blog-post.html",
    "href": "posts/2024-10-11-first-blog-post/first-blog-post.html",
    "title": "First Blog Post",
    "section": "",
    "text": "NYPD Arrest Data (Year to Date)\n\nSource: https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc/about_data Columns:19\nRows: This dataset includes a breakdown of arrests in New York City, with thousands of rows representing individual arrests over the course of the current year.\nDescription and Origin: The dataset is manually extracted and reviewed by the Office of Management Analysis and Planning. It includes information such as arrest records, crime type, and suspect demographics. In addition, it provides a breakdown of the police enforcement activity in NYC, giving insights into the types of crimes and the frequency.\nMain Questions: Do arrest patterns vary significantly by race across different boroughs or precincts? Are there disparities in the types of crimes different racial groups are arrested for (felonies vs. misdemeanors)? How do demographic factors like age and sex influence arrest rates by race?\nChallenges: While the dataset has lots of information, it requires us to clean and organize the data effectively when working with location-based data. Additionally, the coordinates need to be interpreted correctly, which makes ensuring accurate data more challenging. Since we are looking at racial disparities, it is essential to recognize that multiple factors influence the data beyond race alone. In other words, we need to control other factors to isolate the specific impact of race on arrest outcomes.\n\nChicago Violence Reduction Data Source: https://catalog.data.gov/dataset/violence-reduction-victim-demographics-aggregated\n\nColumns: 11 Rows: Each row is aggregated up to victimization type, age group, sex, race, and whether the victimization was domestic-related. There are 54756 rows.\nDescription and Origin: This dataset contains aggregate data on violent index victimizations at the quarter level of each year (i.e., January – March, April – June, July – September, October – December), from 2001 to the present (1991 to present for Homicides), with a focus on those related to gun violence. This dataset includes only those index crimes that involve bodily harm or the threat of bodily harm and are reported to the Chicago Police Department (CPD). Index crimes are 10 crime types selected by the FBI (codes 1-4) for special focus due to their seriousness and frequency.\nMain Questions: How does the number of victims vary across age groups, sex, and race? Are certain quarters of the year consistently getting more victims with certain demographic perpetrators, and do these patterns change year-over-year? Are domestic-related incidents more prevalent in any particular index crime type or demographic group?\nChallenge: One challenge we foresee is potential coding logic. The quarterly system and large data quantity will be something to work through. Another thing to note is that the dataset is updated daily, so as long as nothing drastic pops up, our analysis will remain smooth running. Working with multiple variables can be confusing, but with time, we should be able to overcome that.\n\nJob Patterns For Minorities And Women In Private Industry, 2017 EEO-1 National Aggregate Report\n\nSource: https://catalog.data.gov/dataset/job-patterns-for-minorities-and-women-in-private-industry-2017-eeo-1-national-aggregate-re Columns: 12 (275 total) Rows: 43729\nDescription and Origin: As part of its mandate under Title VII of the Civil Rights Act of 1964, as amended, the Equal Employment Opportunity Commission requires periodic reports from public and private employers, and unions and labor organizations which indicate the composition of their work forces by sex and by race/ethnic category. Key among these reports is the EEO-1, which is collected annually from Private employers with 100 or more employees or federal contractors with 50 more employees.\nMain Questions: How does employment by race (WHT10, BLKT10, HISPT10, ASIANT10, AIANT10, NHOPIT10, TOMRT10) vary across different industries or geographic regions? How does the racial composition of the workforce differ by industry? Are there significant employment disparities between racial groups within the same industry or region?\nChallenges: This dataset would require high-dimensional analysis which may be difficult with what we learned in class. Another challenge is that much of the data is aggregated or has aggregated variable which may make it difficult to make deeper analyses."
  },
  {
    "objectID": "posts/2024-10-18-blog-post-2/blog-post-2.html",
    "href": "posts/2024-10-18-blog-post-2/blog-post-2.html",
    "title": "blog post 2",
    "section": "",
    "text": "Origin: This dataset was published by the US Equal Employment Opportunity Commission and is maintained by Daniel McGregor. As part of its mandate under Title VII of the Civil Rights Act of 1964, as amended, the Equal Employment Opportunity Commission requires periodic reports from public and private employers, unions, and labor organizations that indicate the composition of their workforce by sex and by race/ethnic category. Among these reports, the EEO-1 is collected annually from Private employers with 100 or more employees or federal contractors with 50 more employees.\nProblems with Data: The ‘Aggregate’ option shows the sum of employee counts for all other options in the dropdown. This option is offered to maximize the domain of publishable data. Since the ‘Aggregate’ option includes the employee count of alternatives presented within a given dropdown, this option should not be selected if any other option is selected within the same filter. Therefore, uncheck the ‘Aggregate’ option from a filter dropdown while selecting any other option from the same dropdown for generating reports with unduplicated employee counts. With legally mandated reporting, we assume that the data gathered through the census is thorough enough that there are no concerns about selection bias; one possible area of bias is the fact that the data disregards companies with less than 100 employees; this may cause skew with demographics that might have significant employment in smaller companies, like family-owned businesses.\nImportance of Data:\nThe data’s importance is to distinguish the employment disparities between racial groups within the same industry or region. The data de-identification methodology was developed to ensure the safeguarding of identifiable information to fulfill legal requirements under Section 709 (e) of Title VII of the Civil Rights Act of 1964, as amended by the Equal Employment Opportunity Act of 1972. Aggregated counts of employers and employees at each dimension (geography x job category x NAICS-2 x NAICS-3 x race x sex) were processed through primary and secondary suppression steps to protect identifying information. The programming codes were applied to each year’s data separately."
  },
  {
    "objectID": "posts/2024-11-08-blog-post-4/Blog_Post_4.html",
    "href": "posts/2024-11-08-blog-post-4/Blog_Post_4.html",
    "title": "Blog Post 4",
    "section": "",
    "text": "Our initial exploratory data analysis involved some rudimentary breakdowns between the labor statistics and two metrics, particularly race and gender. Utilizing the provided categories of American Indigenous, Asian, Black, Hispanic, Native Hawaiian, two or more, and White, we created a facet showing the racial distributions among the job categories: 1 (senior off and managers), 2 (professionals) 3 (technicians), 4 (sales workers), 5 (clericals), 6 (craft), 7 (operatives), 8 (labors), 9 (service) and 1_2 (mid off and managers). Some more cleaning may be needed to reduce redundant or blank values, but a cursory examination shows approximate parity between various job distributions, with the exception of craft, for which distributions are more uniform. Reducing the seeming uniformity of the different charts may be a matter of controlling for the proportion of the population occupied by each race category, to get more proportionate metrics that are not overshadowed by the gross proportions of each race as represented by the total population. Additionally, a further inquiry into the exact meaning and jobs entailed by the descriptive numbers used by NAICS may be useful, as we find further data sets with descriptive statistics like wages and benefits for particular jobs that need to be linked to the very general categories described by our original dataset.\nWe also performed a similar breakdown by gender, although in this category it was also difficult to detect any significant discrepancies between various jobs and their gender distribution, contrary to popular notions of gender divides in certain jobs, which may warrant a further inquiry into the source and exact meaning of the data. Like with the racial breakdowns, it may also be useful to derive proportions rather than raw numbers to better account for population differences.\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Read data\ncleaned_dataset &lt;- readRDS(\"../ma-4615-fa24-final-project-group-5/dataset/Cleaned_Employment2017.rds\")\n\n# Pivot to long format, excluding MT and FT\nlong_data &lt;- cleaned_dataset %&gt;%\n  pivot_longer(\n    cols = matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT)([1-9]|1_2)?$\"),\n    names_to = c(\"Race\", \"JobType\"),\n    names_pattern = \"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT)([1-9]|1_2)?$\",\n    values_to = \"Count\"\n  ) %&gt;%\n  filter(!is.na(JobType) & !is.na(Race))\n\n# Ensure only specified Job Types are included\nvalid_job_types &lt;- c(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"1_2\")\nfiltered_data &lt;- long_data %&gt;%\n  filter(JobType %in% valid_job_types) %&gt;%\n  mutate(\n    Count = gsub(\"[^0-9.-]\", \"\", Count),  # Clean non-numeric characters\n    Count = as.numeric(Count),            # Convert to numeric\n    Count = ifelse(is.na(Count), 0, Count) # Replace NA with 0\n  )\n\n# Add descriptive labels for Job Types and set factor order\nfiltered_data &lt;- filtered_data %&gt;%\n  mutate(\n    JobTypeLabel = recode(JobType,\n      \"1\" = \"Senior Off and Managers\",\n      \"2\" = \"Professionals\",\n      \"3\" = \"Technicians\",\n      \"4\" = \"Sales Workers\",\n      \"5\" = \"Clericals\",\n      \"6\" = \"Craft\",\n      \"7\" = \"Operatives\",\n      \"8\" = \"Laborers\",\n      \"9\" = \"Services\",\n      \"1_2\" = \"Mid Off and Managers\"\n    ),\n    JobTypeLabel = factor(JobTypeLabel, levels = c(\n      \"Senior Off and Managers\", \"Professionals\", \"Technicians\",\n      \"Sales Workers\", \"Clericals\", \"Craft\", \"Operatives\", \"Laborers\", \"Services\", \n      \"Mid Off and Managers\"\n    ))\n  )\n\n# Plotting\nggplot(filtered_data, aes(x = Race, y = Count, fill = Race)) +\n  geom_bar(stat = \"identity\") +\n  facet_wrap(~ JobTypeLabel, scales = \"free_y\") +\n  theme_gray() +\n  labs(\n    title = \"Proportional Representation by Job Type and Race\",\n    x = \"Race\",\n    y = \"Count\"\n  ) +\n  scale_y_continuous(breaks = scales::pretty_breaks(n = 5)) +\n  theme(\n    legend.position = \"none\",\n    strip.text = element_text(size = 10, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    axis.text.y = element_text(size = 8)\n  )\n\n\n\n\n\n\n\n\n\nprint(long_data)\n\n# A tibble: 3,060,960 × 34\n   Nation        Region Division State CBSA  County NAICS2 NAICS2_Name NAICS3\n   &lt;chr&gt;         &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;        &lt;int&gt;\n 1 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 2 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 3 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 4 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 5 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 6 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 7 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 8 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n 9 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n10 United States \"\"     \"\"       \"\"    \"\"    \"\"         NA \"\"              NA\n# ℹ 3,060,950 more rows\n# ℹ 25 more variables: NAICS3_Name &lt;chr&gt;, Establishments &lt;int&gt;, MT1 &lt;chr&gt;,\n#   MT2 &lt;chr&gt;, MT3 &lt;chr&gt;, MT4 &lt;chr&gt;, MT5 &lt;chr&gt;, MT6 &lt;chr&gt;, MT7 &lt;chr&gt;,\n#   MT8 &lt;chr&gt;, MT9 &lt;chr&gt;, MT1_2 &lt;chr&gt;, FT1 &lt;chr&gt;, FT2 &lt;chr&gt;, FT3 &lt;chr&gt;,\n#   FT4 &lt;chr&gt;, FT5 &lt;chr&gt;, FT6 &lt;chr&gt;, FT7 &lt;chr&gt;, FT8 &lt;chr&gt;, FT9 &lt;chr&gt;,\n#   FT1_2 &lt;chr&gt;, Race &lt;chr&gt;, JobType &lt;chr&gt;, Count &lt;chr&gt;\n\n\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Pivot to long format\nlong_data &lt;- cleaned_dataset %&gt;%\n  pivot_longer(\n    cols = matches(\"^(MT|FT)[1-9](_2)?$\"),\n    names_to = c(\"Gender\", \"JobType\"),\n    names_pattern = \"^(MT|FT)([1-9]|1_2)?$\",\n    values_to = \"Count\"\n  ) %&gt;%\n  filter(!is.na(JobType) & !is.na(Gender))\n\n# Ensure 'Count' is numeric, handling non-numeric values\nlong_data &lt;- long_data %&gt;%\n  mutate(\n    Count = as.numeric(Count),             # Convert 'Count' to numeric\n    Count = ifelse(is.na(Count), 0, Count)  # Replace any NA with 0\n  )\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Count = as.numeric(Count)`.\nCaused by warning:\n! NAs introduced by coercion\n\n# Filter for valid job types and calculate percentages correctly for each gender\nfiltered_data &lt;- long_data %&gt;%\n  filter(JobType %in% valid_job_types) %&gt;%\n  group_by(JobType) %&gt;%\n  mutate(\n    Total = sum(Count, na.rm = TRUE),  # Total count for each JobType and Gender\n    Percent = (Count / Total) * 100      # Calculate percentage within each JobType and Gender\n  ) %&gt;%\n  ungroup()\n\n# Add descriptive labels for Job Types and set factor order\nfiltered_data &lt;- filtered_data %&gt;%\n  mutate(\n    JobTypeLabel = recode(JobType,\n      \"1\" = \"Senior Off and Managers\",\n      \"2\" = \"Professionals\",\n      \"3\" = \"Technicians\",\n      \"4\" = \"Sales Workers\",\n      \"5\" = \"Clericals\",\n      \"6\" = \"Craft\",\n      \"7\" = \"Operatives\",\n      \"8\" = \"Laborers\",\n      \"9\" = \"Services\",\n      \"1_2\" = \"Mid Off and Managers\"\n    ),\n    JobTypeLabel = factor(JobTypeLabel, levels = c(\n      \"Senior Off and Managers\", \"Professionals\", \"Technicians\",\n      \"Sales Workers\", \"Clericals\", \"Craft\", \"Operatives\", \"Laborers\", \"Services\", \n      \"Mid Off and Managers\"\n    ))\n  )\n\n# Plotting: Show percentages instead of counts\nggplot(filtered_data, aes(x = Gender, y = Percent, fill = Gender)) +\n  geom_bar(stat = \"identity\") +\n  facet_wrap(~ JobTypeLabel, scales = \"free_y\") +\n  theme_gray() +\n  labs(\n    title = \"Proportional Representation by Job Type and Gender\",\n    x = \"Gender\",\n    y = \"Percentage\"\n  ) +\n  theme(\n    legend.position = \"none\",              # Remove legend\n    strip.text = element_text(size = 10, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    axis.text.y = element_text(size = 8)\n  )"
  },
  {
    "objectID": "posts/2024-11-11-blog-post-5/Blog Post 5.html",
    "href": "posts/2024-11-11-blog-post-5/Blog Post 5.html",
    "title": "Blog Post 5",
    "section": "",
    "text": "Previously in Blog Post 4, we explored two breakdowns of the 2017 dataset, focusing on race and gender. For Blog Post 5, our goal is to extend this analysis to the 2022 dataset, creating similar breakdowns for comparison. This will allow us to visually contrast the 2017 and 2022 data.\nSince we already have 2017 images in Blog Post 3 and 4, this post will be dedicated to 2022 coding scripts.\nIn addition, we have found another dataset that details the wage data associated with all of the jobs listed under the NAICS standard of categorization, logging average hourly wages in October 2023, and August, September, and October 2024. Although the format does not make direct matching to our existing dataset easy, we hope to parse through the data (possibly manually) and use it to assign wage values to our existing race and gender distributions for the different kinds of employment. This information can be useful in exploring potential earning gaps between groups, as well as examining the change in earnings over time. By the time we complete processing the data, we hope to have the information included here as an additional column of our table that we can use in our analysis. Further exploration is warranted in the feasibility of transferring the online table into some kind of csv that can be read into an R script directly.\nHere is the link for the wage data context: https://www.bls.gov/web/empsit/ceseeb3a.htm\n\n library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n library(here)\n\nhere() starts at /Users/emilymusiclin/Downloads/CAS MA 415/ma-4615-fa24-final-project-group-5\n\n employment_2022 &lt;- readRDS(\"dataset/EEO1_2022_PUF.rds\")\n employment_2022[employment_2022 == \"*\"] &lt;- NA\n\n total_columns &lt;- c(\"TOTAL1\", \"TOTAL2\", \"TOTAL3\", \"TOTAL4\", \"TOTAL5\", \"TOTAL6\", \"TOTAL7\", \"TOTAL8\", \"TOTAL9\", \"TOTAL1_2\")\n\n employment_2022[total_columns] &lt;- lapply(employment_2022[total_columns], function(x) as.numeric(x))\n\n employment_2022[total_columns] &lt;-\n   lapply(employment_2022[total_columns], function(x) replace_na(x, 0))\n\n total_counts &lt;- colSums(employment_2022[total_columns], na.rm = TRUE)\n\n proportion_df &lt;- data.frame(Job_Type = names(total_counts), Count = total_counts)\n\n proportion_df$Job_Type &lt;- recode(proportion_df$Job_Type,\n   TOTAL1 = \"Senior Officers and Managers\",\n   TOTAL2 = \"Professionals\",\n   TOTAL3 = \"Technicians\",\n   TOTAL4 = \"Sales Workers\",\n   TOTAL5 = \"Clericals\",\n   TOTAL6 = \"Craft\",\n   TOTAL7 = \"Operatives\",\n   TOTAL8 = \"Laborers\",\n   TOTAL9 = \"Services\",\n   TOTAL1_2 = \"Mid Officers and Managers\"\n )\n\n proportion_df &lt;- proportion_df %&gt;%\n   mutate(Proportion = Count / sum(Count))\n\n ggplot(proportion_df, aes(x = Job_Type, y = Proportion, fill = Job_Type)) +\n   geom_bar(stat = \"identity\") +\n   labs(title = \"Proportionality of Jobs by Type\",\n        x = \"Job Type\",\n        y = \"Proportion\") +\n   theme_gray() +\n   scale_y_continuous(labels = scales::percent) +\n   theme(legend.position = \"none\",\n         axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n race_columns &lt;- c(\"WHT10\", \"BLKT10\", \"HISPT10\", \"ASIANT10\", \"AIANT10\", \"nhopiT10\", \"tomrT10\")\n\n employment_2022[race_columns] &lt;- lapply(employment_2022[race_columns], function(x) as.numeric(x))\n\n employment_2022[race_columns] &lt;-\n   lapply(employment_2022[race_columns], function(x) replace_na(x, 0))\n\n total_race_counts &lt;- colSums(employment_2022[race_columns], na.rm = TRUE)\n\n race_proportion_df &lt;- data.frame(Race = names(total_race_counts), Count = total_race_counts)\n\n race_proportion_df$Race &lt;- recode(race_proportion_df$Race,\n   WHT10 = \"White\",\n   BLKT10 = \"Black or African American\",\n   HISPT10 = \"Hispanic\",\n   ASIANT10 = \"Asian\",\n   AIANT10 = \"American Indian or Alaska Native\",\n   nhopiT10 = \"Native Hawaiian or Other Pacific Islander\",\n   tomrT10 = \"Two or more Races\"\n )\n\n race_proportion_df &lt;- race_proportion_df %&gt;%\n   mutate(Proportion = Count / sum(Count))\n\n ggplot(race_proportion_df, aes(x = Race, y = Proportion, fill = Race)) +\n   geom_bar(stat = \"identity\") +\n   labs(title = \"Proportionality of Race\",\n        x = \"Race\",\n        y = \"Proportion\") +\n   theme_gray() +\n   scale_y_continuous(labels = scales::percent) +\n   theme(legend.position = \"none\",\n         axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n gender_columns &lt;- c(\"MT10\", \"FT10\")\n\n employment_2022[gender_columns] &lt;- lapply(employment_2022[gender_columns], function(x) as.numeric(x))\n\n employment_2022[gender_columns] &lt;-\n   lapply(employment_2022[gender_columns], function(x) replace_na(x, 0))\n\n total_gender_counts &lt;- colSums(employment_2022[gender_columns], na.rm = TRUE)\n\n gender_proportion_df &lt;- data.frame(Gender = names(total_gender_counts), Count = total_gender_counts)\n\n gender_proportion_df$Gender &lt;- recode(gender_proportion_df$Gender,\n   MT10 = \"Male\", FT10 = \"Female\")\n\n gender_proportion_df &lt;- gender_proportion_df %&gt;%\n   mutate(Proportion = Count / sum(Count),\n          Percentage = Proportion * 100)\n\n ggplot(gender_proportion_df, aes(x = \"\", y = Proportion, fill = Gender)) +\n   geom_bar(stat = \"identity\", width = 1) +\n   coord_polar(\"y\") +\n   labs(title = \"Proportionality of Gender\",\n        fill = \"Gender\") +\n   theme_gray() +\n   theme(axis.title.x = element_blank(),\n         axis.title.y = element_blank(),\n         axis.ticks = element_blank(),\n         axis.text = element_blank()) +\n   geom_text(aes(label = paste0(round(Percentage, 1), \"%\")),\n             position = position_stack(vjust = 0.5))\n\n\n\n\n\n\n\n\n\n library(dplyr)\n library(tidyselect)\n\n employment_2022 &lt;- readRDS(\"dataset/EEO1_2022_PUF.rds\")\n\n employment_2022 &lt;- employment_2022 %&gt;%\n   rename_with(toupper)\n\n cleaned_2022 &lt;- employment_2022 %&gt;%\n   select(\n     NATION, REGION, DIVISION, STATE, CBSA, COUNTY, NAICS2, NAICS2_NAME, NAICS3, NAICS3_NAME, ESTABLISHMENTS,\n     matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT|MT|FT)[1-9](_2)?$\")\n   )\n\n if (!dir.exists(\"../ma-4615-fa24-final-project-group-5/dataset\")) {\n   dir.create(\"../ma-4615-fa24-final-project-group-5/dataset\", recursive = TRUE)\n }\n\n saveRDS(cleaned_2022, \"../ma-4615-fa24-final-project-group-5/dataset/Cleaned_Employment2022.rds\")\n cleaned_2022_dataset &lt;- readRDS(\"dataset/Cleaned_Employment2022.rds\")\n\n\n library(dplyr)\n library(ggplot2)\n library(tidyr)\n\n # Read the cleaned data\n cleaned_2022 &lt;- readRDS(\"../ma-4615-fa24-final-project-group-5/dataset/Cleaned_Employment2022.rds\")\n\n long_data_race &lt;- cleaned_2022 %&gt;%\n   pivot_longer(\n     cols = matches(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT)([1-9]|1_2)?$\"),\n     names_to = c(\"Race\", \"JobType\"),\n     names_pattern = \"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT)([1-9]|1_2)?$\",\n     values_to = \"Count\"\n   ) %&gt;%\n   filter(!is.na(JobType) & !is.na(Race))\n\n valid_job_types &lt;- c(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"1_2\")\n filtered_data_race &lt;- long_data_race %&gt;%\n   filter(JobType %in% valid_job_types) %&gt;%\n   mutate(\n     Count = gsub(\"[^0-9.-]\", \"\", Count), \n     Count = as.numeric(Count),            \n     Count = ifelse(is.na(Count), 0, Count) \n   )\n\n filtered_data_race &lt;- filtered_data_race %&gt;%\n   mutate(\n     JobTypeLabel = recode(JobType,\n       \"1\" = \"Senior Off and Managers\",\n       \"2\" = \"Professionals\",\n       \"3\" = \"Technicians\",\n       \"4\" = \"Sales Workers\",\n       \"5\" = \"Clericals\",\n       \"6\" = \"Craft\",\n       \"7\" = \"Operatives\",\n       \"8\" = \"Laborers\",\n       \"9\" = \"Services\",\n       \"1_2\" = \"Mid Off and Managers\"\n     ),\n     JobTypeLabel = factor(JobTypeLabel, levels = c(\n       \"Senior Off and Managers\", \"Professionals\", \"Technicians\",\n       \"Sales Workers\", \"Clericals\", \"Craft\", \"Operatives\", \"Laborers\", \"Services\",\n       \"Mid Off and Managers\"\n     ))\n   )\n\n ggplot(filtered_data_race, aes(x = Race, y = Count, fill = Race)) +\n   geom_bar(stat = \"identity\") +\n   facet_wrap(~ JobTypeLabel, scales = \"free_y\") +  \n   theme_gray() +\n   labs(\n     title = \"Proportional Representation by Job Type and Race (2022)\",\n     x = \"Race\",\n     y = \"Count\"\n   ) +\n   scale_y_continuous(breaks = scales::pretty_breaks(n = 5)) +\n   theme(\n     legend.position = \"none\",\n     strip.text = element_text(size = 10, face = \"bold\"),\n     axis.text.x = element_text(angle = 45, hjust = 1),\n     axis.text.y = element_text(size = 8)\n   )\n\n\n\n\n\n\n\n\n\nlong_data_gender &lt;- cleaned_2022 %&gt;%\n   pivot_longer(\n     cols = matches(\"^(MT|FT)([1-9]|1_2)?$\"),\n     names_to = c(\"Gender\", \"JobType\"),\n     names_pattern = \"^(MT|FT)([1-9]|1_2)?$\",\n     values_to = \"Count\"\n   ) %&gt;%\n   filter(!is.na(JobType) & !is.na(Gender))\n\n long_data_gender &lt;- long_data_gender %&gt;%\n   mutate(\n     Count = as.numeric(Count),             \n     Count = ifelse(is.na(Count), 0, Count)  \n   )\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Count = as.numeric(Count)`.\nCaused by warning:\n! NAs introduced by coercion\n\n filtered_data_gender &lt;- long_data_gender %&gt;%\n   filter(JobType %in% valid_job_types) %&gt;%\n   group_by(JobType) %&gt;%\n   mutate(\n     Total = sum(Count, na.rm = TRUE),  \n     Percent = (Count / Total) * 100      \n   ) %&gt;%\n   ungroup()\n\n filtered_data_gender &lt;- filtered_data_gender %&gt;%\n   mutate(\n     JobTypeLabel = recode(JobType,\n       \"1\" = \"Senior Off and Managers\",\n       \"2\" = \"Professionals\",\n       \"3\" = \"Technicians\",\n       \"4\" = \"Sales Workers\",\n       \"5\" = \"Clericals\",\n       \"6\" = \"Craft\",\n       \"7\" = \"Operatives\",\n       \"8\" = \"Laborers\",\n       \"9\" = \"Services\",\n       \"1_2\" = \"Mid Off and Managers\"\n     ),\n     JobTypeLabel = factor(JobTypeLabel, levels = c(\n       \"Senior Off and Managers\", \"Professionals\", \"Technicians\",\n       \"Sales Workers\", \"Clericals\", \"Craft\", \"Operatives\", \"Laborers\", \"Services\", \"Mid Off and Managers\"\n     ))\n   )\n\n ggplot(filtered_data_gender, aes(x = Gender, y = Percent, fill = Gender)) +\n   geom_bar(stat = \"identity\") +\n   facet_wrap(~ JobTypeLabel, scales = \"free_y\") +\n   theme_gray() +\n   labs(\n     title = \"Proportional Representation by Job Type and Gender (2022)\",\n     x = \"Gender\",\n     y = \"Percentage\"\n   ) +\n   theme(\n     legend.position = \"none\",              \n     strip.text = element_text(size = 10, face = \"bold\"),\n     axis.text.x = element_text(angle = 45, hjust = 1),\n     axis.text.y = element_text(size = 8)\n   )"
  },
  {
    "objectID": "posts/2024-11-18-blog-post-6/Blog Post 6.html",
    "href": "posts/2024-11-18-blog-post-6/Blog Post 6.html",
    "title": "Blog Post 6",
    "section": "",
    "text": "This week, we cleaned and loaded a dataset closely associated with our employment statistics with racial breakdowns. This new dataset contains many of the NAICS job codes contained in our original dataset, and matched them with wages statistics from the past couple months. For the purposes of our analysis this week, I’ve only looked at the October 2023 data.\nProcessing the data took rather extensive cleanup, requiring a conversion of the Department of Labor’s table into a CSV file, which we did by writing a python HTML web parsing script that could read in the values to a workable CSV file. Then, it was a matter of matching the data, linked by their NAICS codes, to our existing datasets. Once this was accomplished, we were able to perform some rudimentary analysis, seeing some quick breakdowns of wage statistics by the various job categories.\nFor future weeks, we would like to see how this data by job category varies for race and gender, incorporating the other timestamps for average wages to see if wages across jobs and race and gender have changed over time. From this, we might be able to discover things like whether or not wage increases are equally distributed, and how they compare against inflation in the same time period.\n\n#load in our wage data!\n\nwage_data &lt;- read.csv(\"dataset/wage_data.csv\")\n\n# Preview the dataset\nsaveRDS(wage_data, file = \"dataset/wage_data.rds\")\nhead(wage_data)\n\n                                          Industry X2022.NAICS.code Oct..2023\n1                                       Logging(1)             1133     31.20\n2 Mining, quarrying, and oil and gas extraction(1)               21     39.19\n3                        Oil and gas extraction(1)              211     49.38\n4                   Mining (except oil and gas)(1)              212     35.75\n5                                   Coal mining(1)             2121     38.80\n6                              Metal ore mining(1)             2122     43.23\n  Aug..2024 Sept..2024.p. Oct..2024.p. Oct..2023_2 Aug..2024_2 Sept..2024.p._2\n1     31.21         31.58            0     1347.84     1367.00         1332.68\n2     40.23         40.39            0     1755.71     1798.28         1809.47\n3     47.92         47.94            0     2044.33     2046.18         2042.24\n4     37.25         37.30            0     1583.73     1665.08         1671.04\n5     41.86         42.03            0     1843.00     1933.93         1950.19\n6     43.80         43.87            0     1794.05     1870.26         1855.70\n  Oct..2024.p._2\n1              0\n2              0\n3              0\n4              0\n5              0\n6              0\n\n\n\n# Step 1: Load the datasets\nCleaned_Employment2017 &lt;- readRDS(\"dataset/Employment2017.rds\")\nwage_data &lt;- readRDS(\"dataset/wage_data.rds\")\n\n# Step 2: Ensure column names are consistent\n# Rename columns if necessary for easier comparison\ncolnames(wage_data) &lt;- gsub(\"\\\\.\", \"\", colnames(wage_data)) # Remove periods if they exist in column names\n\n# Step 3: Match NAICS codes and merge datasets\n# Match Cleaned_Employment2017$NAICS3 with wage_data$X2022NAICScode\nCleaned_Employment2017$`Oct2023 wages` &lt;- ifelse(\n  Cleaned_Employment2017$NAICS3 %in% wage_data$X2022NAICScode,\n  wage_data$Oct2023[match(Cleaned_Employment2017$NAICS3, wage_data$X2022NAICScode)],\n  NA\n)\n\n# Step 4: Save the updated dataset\n#saveRDS(Cleaned_Employment2017, \"dataset/Updated_Cleaned_Employment2017.rds\")\n\ndata2017WithWages &lt;- Cleaned_Employment2017[!is.na(Cleaned_Employment2017$`Oct2023 wages`), ]\n\n# Step 5: Save the new table\nsaveRDS(data2017WithWages, \"dataset/2017WithWages.rds\")\n\n\n# Load necessary libraries\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n# Subset relevant columns\ncols &lt;- grep(\"^(WHT|BLKT|HISPT|ASIANT|AIANT|NHOPIT|TOMRT)(10)?$\", names(data2017WithWages), value = TRUE)\ndata2017WithWages[cols] &lt;- lapply(data2017WithWages[cols], function(col) as.numeric(as.character(col)))\n\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\nWarning in FUN(X[[i]], ...): NAs introduced by coercion\n\n# Create the new dataset with selected columns\nnew_data &lt;- data2017WithWages %&gt;%\n  select(NAICS2_Name, NAICS2, `Oct2023 wages`, all_of(cols))\n\n# Aggregate the data\naggregated_data &lt;- new_data %&gt;%\n  group_by(NAICS2_Name) %&gt;%\n  summarize(\n    Avg_Wage = mean(`Oct2023 wages`, na.rm = TRUE),\n    across(all_of(cols), sum, na.rm = TRUE)\n  )\n\nWarning: There was 1 warning in `summarize()`.\nℹ In argument: `across(all_of(cols), sum, na.rm = TRUE)`.\nℹ In group 1: `NAICS2_Name = \"Accommodation and Food Services\"`.\nCaused by warning:\n! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.\nSupply arguments directly to `.fns` through an anonymous function instead.\n\n  # Previously\n  across(a:b, mean, na.rm = TRUE)\n\n  # Now\n  across(a:b, \\(x) mean(x, na.rm = TRUE))\n\n# Load ggplot2 for visualization\nlibrary(ggplot2)\naggregated_data$NAICS2_Name &lt;- factor(aggregated_data$NAICS2_Name, levels = unique(aggregated_data$NAICS2_Name))\n# Create the bar chart\nggplot(aggregated_data, aes(x = reorder(NAICS2_Name, Avg_Wage), y = Avg_Wage)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +  # Flip coordinates for better readability\n  labs(\n    title = \"Average Wages by NAICS2_Name\",\n    x = \"NAICS2_Name\",\n    y = \"Average Wage (Oct 2023)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n# Aggregate the data by NAICS3_Name\naggregated_data_naics3 &lt;- data2017WithWages %&gt;%\n  select(NAICS3_Name, NAICS2, `Oct2023 wages`, all_of(cols)) %&gt;%\n  group_by(NAICS3_Name) %&gt;%\n  summarize(\n    Avg_Wage = mean(`Oct2023 wages`, na.rm = TRUE),  # Average wages\n    across(all_of(cols), sum, na.rm = TRUE)          # Sum racial category columns\n  )\n\n\n# Convert NAICS3_Name to a factor to ensure all are displayed\naggregated_data_naics3$NAICS3_Name &lt;- factor(aggregated_data_naics3$NAICS3_Name, levels = unique(aggregated_data_naics3$NAICS3_Name))\n\n# Create the bar chart\nggplot(aggregated_data_naics3, aes(x = reorder(NAICS3_Name, Avg_Wage), y = Avg_Wage)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +  # Flip coordinates for better readability\n  labs(\n    title = \"Average Wages by NAICS3_Name\",\n    x = \"NAICS3_Name\",\n    y = \"Average Wage (Oct 2023)\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_text(size = 8)  # Adjust text size for clarity\n  )\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(dplyr)\n\n# Load datasets\nemployment_data &lt;- read.csv(\"dataset/Employment2017.csv\")\nwage_data &lt;- read.csv(\"dataset/wage_data.csv\")\n\n# Extract and format 3-digit NAICS codes from both datasets\nwage_data &lt;- wage_data %&gt;%\n  mutate(NAICS3 = substr(as.character(X2022.NAICS.code), 1, 3))\n\nemployment_data &lt;- employment_data %&gt;%\n  mutate(NAICS3 = substr(as.character(NAICS3), 1, 3))\n\n# Identify matching 3-digit NAICS codes\nmatching_codes &lt;- intersect(wage_data$NAICS3, employment_data$NAICS3)\n\n# Print the matching 3-digit NAICS codes\ncat(\"Matching 3-digit NAICS codes:\\n\")\n\nMatching 3-digit NAICS codes:\n\nprint(matching_codes)\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\"\n\n# Print the values in the column Aug. 2024 for matching NAICS codes (keep only the first occurrence)\ncat(\"\\nAug. 2024 values for matching NAICS codes (first occurrence only):\\n\")\n\n\nAug. 2024 values for matching NAICS codes (first occurrence only):\n\naug_2024_values &lt;- wage_data %&gt;%\n  filter(NAICS3 %in% matching_codes) %&gt;%\n  distinct(NAICS3, .keep_all = TRUE) %&gt;%  # Keep only the first occurrence of each NAICS3\n  select(NAICS3, Aug..2024)\nprint(aug_2024_values)\n\n   NAICS3 Aug..2024\n1     113     31.21\n2     211     47.92\n3     212     37.25\n4     213     39.09\n5     236     41.44\n6     237     39.84\n7     238     36.93\n8     321     27.59\n9     327     32.36\n10    331     34.32\n11    332     28.46\n12    333     35.54\n13    334     41.91\n14    335     37.00\n15    336     34.63\n16    337     26.83\n17    339     35.06\n18    311     27.00\n19    322     31.82\n20    325     43.39\n21    326     29.16\n22    423     38.30\n23    424     35.23\n24    425     45.50\n25    441     30.94\n26    444     22.67\n27    445     21.68\n28    481     46.65\n29    484     31.31\n30    485     28.31\n31    488     34.19\n32    492     24.99\n33    493     24.90\n34    221     53.66\n35    512     40.16\n36    517     43.54\n37    518     56.07\n38    519     42.14\n39    522     47.30\n40    523     70.37\n41    524     45.41\n42    531     34.68\n43    532     31.57\n44    541     60.01\n45    551     48.63\n46    561     27.74\n47    562     35.70\n48    621     39.04\n49    622     42.68\n50    623     25.46\n51    624     22.77\n52    711     39.15\n53    712     30.02\n54    713     24.07\n55    721     23.73\n56    722     20.63\n57    811     30.45\n58    812     24.02\n59    813     36.18\n\n\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Load datasets\nemployment_data &lt;- read.csv(\"dataset/Employment2017.csv\")\nwage_data &lt;- read.csv(\"dataset/wage_data.csv\")\n\n# Extract and format 3-digit NAICS codes from both datasets\nwage_data &lt;- wage_data %&gt;%\n  mutate(NAICS3 = substr(as.character(X2022.NAICS.code), 1, 3))\n\nemployment_data &lt;- employment_data %&gt;%\n  mutate(NAICS3 = substr(as.character(NAICS3), 1, 3))\n\n# Identify matching 3-digit NAICS codes\nmatching_codes &lt;- intersect(wage_data$NAICS3, employment_data$NAICS3)\n\n# Print the matching 3-digit NAICS codes\ncat(\"Matching 3-digit NAICS codes:\\n\")\n\nMatching 3-digit NAICS codes:\n\nprint(matching_codes)\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\"\n\n# Filter Aug. 2024 values for matching NAICS codes (keep only the first occurrence)\naug_2024_values &lt;- wage_data %&gt;%\n  filter(NAICS3 %in% matching_codes) %&gt;%\n  distinct(NAICS3, .keep_all = TRUE) %&gt;%  # Keep only the first occurrence of each NAICS3\n  select(NAICS3, Aug..2024)\n\n# Merge Aug. 2024 wages with employment data to get racial distribution\nmerged_data &lt;- aug_2024_values %&gt;%\n  left_join(employment_data, by = \"NAICS3\") %&gt;%\n  select(NAICS3, Aug..2024, WHT10, BLKT10, HISPT10, ASIANT10, AIANT10, NHOPIT10, TOMRT10) %&gt;%\n  gather(key = \"Race\", value = \"Percentage\", WHT10:TOMRT10) %&gt;%\n  mutate(Percentage = as.numeric(as.character(Percentage))) %&gt;%\n  filter(!is.na(Percentage))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Percentage = as.numeric(as.character(Percentage))`.\nCaused by warning:\n! NAs introduced by coercion\n\n# Sort data by wages in descending order\nsorted_data &lt;- aug_2024_values %&gt;%\n  arrange(desc(Aug..2024))\n\n# Generate charts for each industry, sorted by wages\nfor (i in 1:nrow(sorted_data)) {\n  naics_code &lt;- sorted_data$NAICS3[i]\n  wage &lt;- sorted_data$Aug..2024[i]\n  plot_data &lt;- merged_data %&gt;%\n    filter(NAICS3 == naics_code)\n  \n  # Create the chart\n  plot &lt;- ggplot(plot_data, aes(x = Race, y = Percentage, fill = Race)) +\n    geom_bar(stat = \"identity\") +\n    labs(\n      title = paste0(\"NAICS: \", naics_code, \" | Wage: $\", round(wage, 2)),\n      x = \"Race\",\n      y = \"Percentage\",\n      fill = \"Race\"\n    ) +\n    theme_minimal() +\n    theme(\n      axis.text.x = element_text(angle = 45, hjust = 1)\n    )\n  \n  # Print the chart\n  print(plot)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Load datasets\nemployment_data &lt;- read.csv(\"dataset/Employment2017.csv\")\nwage_data &lt;- read.csv(\"dataset/wage_data.csv\")\n\n# Extract and format 3-digit NAICS codes from both datasets\nwage_data &lt;- wage_data %&gt;%\n  mutate(NAICS3 = substr(as.character(X2022.NAICS.code), 1, 3))\n\nemployment_data &lt;- employment_data %&gt;%\n  mutate(NAICS3 = substr(as.character(NAICS3), 1, 3))\n\n# Identify matching 3-digit NAICS codes\nmatching_codes &lt;- intersect(wage_data$NAICS3, employment_data$NAICS3)\n\n# Print the matching 3-digit NAICS codes\ncat(\"Matching 3-digit NAICS codes:\\n\")\n\nMatching 3-digit NAICS codes:\n\nprint(matching_codes)\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\"\n\n# Filter Aug. 2024 values for matching NAICS codes (keep only the first occurrence)\naug_2024_values &lt;- wage_data %&gt;%\n  filter(NAICS3 %in% matching_codes) %&gt;%\n  distinct(NAICS3, .keep_all = TRUE) %&gt;%  # Keep only the first occurrence of each NAICS3\n  select(NAICS3, Aug..2024)\n\n# Merge Aug. 2024 wages with employment data to get racial distribution\nmerged_data &lt;- aug_2024_values %&gt;%\n  left_join(employment_data, by = \"NAICS3\") %&gt;%\n  select(NAICS3, Aug..2024, WHT10, BLKT10, HISPT10, ASIANT10, AIANT10, NHOPIT10, TOMRT10) %&gt;%\n  gather(key = \"Race\", value = \"Percentage\", WHT10:TOMRT10) %&gt;%\n  mutate(Percentage = as.numeric(as.character(Percentage))) %&gt;%\n  filter(!is.na(Percentage))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Percentage = as.numeric(as.character(Percentage))`.\nCaused by warning:\n! NAs introduced by coercion\n\n# Sort data by wages in descending order\nsorted_data &lt;- aug_2024_values %&gt;%\n  arrange(desc(Aug..2024))\n\n# Generate charts for each industry, sorted by wages\nfor (i in 1:nrow(sorted_data)) {\n  naics_code &lt;- sorted_data$NAICS3[i]\n  wage &lt;- sorted_data$Aug..2024[i]\n  plot_data &lt;- merged_data %&gt;%\n    filter(NAICS3 == naics_code)\n  \n  # Create the chart\n  plot &lt;- ggplot(plot_data, aes(x = Race, y = Percentage, fill = Race)) +\n    geom_bar(stat = \"identity\") +\n    labs(\n      title = paste0(\"NAICS: \", naics_code, \" | Wage: $\", round(wage, 2)),\n      x = \"Race\",\n      y = \"Percentage\",\n      fill = \"Race\"\n    ) +\n    theme_minimal() +\n    theme(\n      axis.text.x = element_text(angle = 45, hjust = 1)\n    )\n  \n  # Print the chart\n  print(plot)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Create charts for each race showing their proportion as wages decrease\nrace_proportions &lt;- merged_data %&gt;%\n  group_by(Aug..2024, Race) %&gt;%\n  summarize(Total_Percentage = sum(Percentage, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  arrange(desc(Aug..2024))\n\n`summarise()` has grouped output by 'Aug..2024'. You can override using the\n`.groups` argument.\n\n# Generate a line plot for each race\nrace_plot &lt;- ggplot(race_proportions, aes(x = Aug..2024, y = Total_Percentage, color = Race)) +\n  geom_line(size = 1) +\n  geom_point() +\n  labs(\n    title = \"Racial Proportions as Wages Decrease\",\n    x = \"Wages (Aug. 2024)\",\n    y = \"Total Percentage\",\n    color = \"Race\"\n  ) +\n  theme_minimal()\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n# Print the race proportion plot\nprint(race_plot)\n\n\n\n\n\n\n\n\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n# Load datasets\nemployment_data &lt;- read.csv(\"dataset/Employment2017.csv\")\nwage_data &lt;- read.csv(\"dataset/wage_data.csv\")\n\n# Extract and format 3-digit NAICS codes from both datasets\nwage_data &lt;- wage_data %&gt;%\n  mutate(NAICS3 = substr(as.character(X2022.NAICS.code), 1, 3))\n\nemployment_data &lt;- employment_data %&gt;%\n  mutate(NAICS3 = substr(as.character(NAICS3), 1, 3))\n\n# Identify matching 3-digit NAICS codes\nmatching_codes &lt;- intersect(wage_data$NAICS3, employment_data$NAICS3)\n\n# Print the matching 3-digit NAICS codes\ncat(\"Matching 3-digit NAICS codes:\\n\")\n\nMatching 3-digit NAICS codes:\n\nprint(matching_codes)\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\"\n\n# Filter Aug. 2024 values for matching NAICS codes (keep only the first occurrence)\naug_2024_values &lt;- wage_data %&gt;%\n  filter(NAICS3 %in% matching_codes) %&gt;%\n  distinct(NAICS3, .keep_all = TRUE) %&gt;%  # Keep only the first occurrence of each NAICS3\n  select(NAICS3, Aug..2024)\n\n# Merge Aug. 2024 wages with employment data to get racial distribution\nmerged_data &lt;- aug_2024_values %&gt;%\n  left_join(employment_data, by = \"NAICS3\") %&gt;%\n  select(NAICS3, Aug..2024, WHT10, BLKT10, HISPT10, ASIANT10, AIANT10, NHOPIT10, TOMRT10) %&gt;%\n  gather(key = \"Race\", value = \"Percentage\", WHT10:TOMRT10) %&gt;%\n  mutate(Percentage = as.numeric(as.character(Percentage))) %&gt;%\n  filter(!is.na(Percentage))\n\nWarning: There was 1 warning in `mutate()`.\nℹ In argument: `Percentage = as.numeric(as.character(Percentage))`.\nCaused by warning:\n! NAs introduced by coercion\n\n# Sort data by wages in descending order\nsorted_data &lt;- aug_2024_values %&gt;%\n  arrange(desc(Aug..2024))\n\n# Generate charts for each industry, sorted by wages\nfor (i in 1:nrow(sorted_data)) {\n  naics_code &lt;- sorted_data$NAICS3[i]\n  wage &lt;- sorted_data$Aug..2024[i]\n  plot_data &lt;- merged_data %&gt;%\n    filter(NAICS3 == naics_code)\n  \n  # Create the chart\n  plot &lt;- ggplot(plot_data, aes(x = Race, y = Percentage, fill = Race)) +\n    geom_bar(stat = \"identity\") +\n    labs(\n      title = paste0(\"NAICS: \", naics_code, \" | Wage: $\", round(wage, 2)),\n      x = \"Race\",\n      y = \"Percentage\",\n      fill = \"Race\"\n    ) +\n    theme_minimal() +\n    theme(\n      axis.text.x = element_text(angle = 45, hjust = 1)\n    )\n  \n  # Print the chart\n  print(plot)\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Calculate the mean percentage across all races\nmean_percentage &lt;- merged_data %&gt;%\n  group_by(Race) %&gt;%\n  summarize(Mean_Percentage = mean(Percentage, na.rm = TRUE))\n\n# Merge mean percentage back into the data to calculate the difference from the mean\nrace_diff &lt;- merged_data %&gt;%\n  left_join(mean_percentage, by = \"Race\") %&gt;%\n  mutate(Diff_From_Mean = Percentage - Mean_Percentage) %&gt;%\n  group_by(Aug..2024, Race) %&gt;%\n  summarize(Diff_From_Mean = mean(Diff_From_Mean, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  arrange(desc(Aug..2024)) %&gt;%\n  filter(abs(Diff_From_Mean) &lt;= 10000)  # Remove outliers where difference exceeds 10,000\n\n`summarise()` has grouped output by 'Aug..2024'. You can override using the\n`.groups` argument.\n\n# Generate a line plot for each race showing the difference from the mean as wages decrease\ndiff_plot &lt;- ggplot(race_diff, aes(x = Aug..2024, y = Diff_From_Mean, color = Race)) +\n  geom_line(size = 1) +\n  geom_point() +\n  labs(\n    title = \"Difference from Mean Racial Representation as a Function of Wage\",\n    x = \"Wages (Aug. 2024)\",\n    y = \"Difference from Mean (%)\",\n    color = \"Race\"\n  ) +\n  theme_minimal()\n\n# Print the difference plot\nprint(diff_plot)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MA [46]15 Final Project",
    "section": "",
    "text": "Shiny applications not supported in static R Markdown documents\n\n\n\nFinal Project due Dec 18th, 2024 at 11:59pm.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 7\n\n\n\n\n\n\n\n\n\n\n\nDec 9, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 6\n\n\n\n\n\n\n\n\n\n\n\nNov 18, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 5\n\n\n\n\n\n\n\n\n\n\n\nNov 11, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 4\n\n\n\n\n\n\n\n\n\n\n\nOct 30, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nBlog Post 3\n\n\n\n\n\n\n\n\n\n\n\nOct 28, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nblog post 2\n\n\n\n\n\n\n\n\n\n\n\nOct 18, 2024\n\n\nGroup 5\n\n\n\n\n\n\n\n\n\n\n\n\nFirst Blog Post\n\n\n\n\n\n\n\n\n\n\n\nOct 11, 2024\n\n\nGroup 5\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "analysis.html#research-motivation-and-questions",
    "href": "analysis.html#research-motivation-and-questions",
    "title": "Analysis",
    "section": "Research Motivation and Questions",
    "text": "Research Motivation and Questions\nThe primary motivation for this analysis is to better understand the distribution of race and gender within various job types. Specifically, we are interested in the following:\n\nHow do race and gender representations vary across different job types, particularly in terms of the workforce count for each racial group and gender?\nWhat insights can be derived from regression models explaining gender and race representation across industries?"
  },
  {
    "objectID": "analysis.html#data-overview",
    "href": "analysis.html#data-overview",
    "title": "Analysis",
    "section": "Data Overview",
    "text": "Data Overview\nThe dataset used for this analysis is the 2017 Equal Employment Opportunity (EEO-1) dataset. It contains workforce representation data broken down by race and gender across the job categories provided by the US Employment dataset.\nThis analysis page focuses on the variables that represent the workforce count by race (White, Black, Hispanic, Asian, Two or More Races, Native Hawaiian or Other Pacific Islander, and American Indian or Alaska Native) as well as gender (Male, Female) within each job category provided by this website. For simplicity, the initial analysis will combine some minority races (Two or More Races, Native Hawaiian or Other Pacific Islander, and American Indian or Alaska Native) as ‘Other’."
  },
  {
    "objectID": "analysis.html#workforce-representation-by-race",
    "href": "analysis.html#workforce-representation-by-race",
    "title": "Analysis",
    "section": "Workforce Representation by Race",
    "text": "Workforce Representation by Race\nTo better understand racial representation across the job categories, we begin by summarizing the workforce composition for each category by race. One important thing to note is that we grouped the data by the NAICS2 variable.\nThe 2017 NAICS definitions from the link below were used for the two-digit industry codes. As described in the North American Industry Classification System, United States, 2017, all economic activities can be divided into 20 sectors that are designated by two-digit NAICS codes.\nClick here to visit the website\n\n\n\n\n\n\n\n\n\n\nThis bar chart provides insights into how various racial groups are distributed across different industries. Since the US population is predominantly white, the employment counts will be noticably higher in the White category. Nevertheless, it is evident that certain job industries, such as Healthcare and Social Assistance & Accommodation and Food Services, have higher representation of Black and Hispanic workers, while sectors like Finance and Insurance tend to be predominantly composed of White employees. Later in the Analysis process, we will only focus on two industries for simplicity."
  },
  {
    "objectID": "analysis.html#gender-representation-in-the-workforce",
    "href": "analysis.html#gender-representation-in-the-workforce",
    "title": "Analysis",
    "section": "Gender Representation in the Workforce",
    "text": "Gender Representation in the Workforce\nNext, we turn our attention to gender representation across industries. We summarize the male and female workforce distribution by industry.\n\n\n\n\n\n\n\n\n\n\nThis bar chart provides insights into how females and males are distributed across different industries. For females, they dominate the Health Care and Social Assistance industry. For males, they dominate the Manufacturing industry. On the other hand, they share the playground for Retail Trade & Accommodation and Food Services. Fun information!"
  },
  {
    "objectID": "analysis.html#statistical-modeling-racial-representation",
    "href": "analysis.html#statistical-modeling-racial-representation",
    "title": "Analysis",
    "section": "Statistical Modeling: Racial Representation",
    "text": "Statistical Modeling: Racial Representation\nWe were curious about the representation of the minority races that we grouped into the “Other” variable, so this linear regression model predicts the racial workforce representation for them in the employment data of 2017. Those race variables were: Two or More Races, Native Hawaiian or Other Pacific Islander, and American Indian or Alaska Native. To make things easier and quicker (for us), we focused on two industries: Construction and Health Care.\n\n\n\n\n\n\n\n\n\n\nAverage Proportions by Sector and Race\n\n\nNAICS2\nrace\naverage_proportion\n\n\n\n\n23\nAmerican Indian or Alaska Native\n0.3173529\n\n\n23\nNative Hawaiian or Other Pacific Islander\n0.1479752\n\n\n23\nTwo or More Races\n0.5346719\n\n\n62\nAmerican Indian or Alaska Native\n0.1946524\n\n\n62\nNative Hawaiian or Other Pacific Islander\n0.1601075\n\n\n62\nTwo or More Races\n0.6452401\n\n\n\n\n\n\n\nFor context:\n\nEach point on the graph corresponds to different major city/regions in the US, with its position determined by the male and female workforce counts for that location. The variable to determine location is named CBSA in the employment dataset. A CBSA code is a five-digit FIPS code that identifies a Core Based Statistical Area, which is a geographic area in the United States that includes a core urban area and surrounding communities. They don’t always show, so some numbers were dropped. The CBSA variable will be seen later in the interactive component of this project.\nConstruction’s code is 23.\nHealth Care’s code is 62.\nThe x-axis contains the three different minority races\nThe y-axis displays the proportion of these races in the workforce according to the specific location.\n\nOur Thought Process:\n\nOriginally, when we started this analysis portion of the data. It was difficult/time-consuming to run more than 3 industries, so we focused on Construction and Health Care.\nWe wanted to use multinomial regression; however, RStudio would crash despite many attempts of making the datasets smaller. Therefore, we highlighted the proportions of these minority races according to the workforce sum of only these three races to compare amongst themselves instead. It does bring in the limitation of not looking at the overall though.\n\nAnalysis:\n\nIt can be assumed that “Two or More Races” has a higher population. For these minority races, “Two or More Races” take up more than 50% in both Construction and Health Care industries.\nIn Health Care, “American Indian or Alaska Native” and “Native Hawaiian or Other Pacific Islander” has a fairly equal average proportion with 19.5 and 16%, respectively. However, in Construction, “American Indian or Alaska Native” jumped in proportion with 31.7% in the minority races while both “Native Hawaiian or Other Pacific Islander” and “Two or More Races” dropped in proportions with 14.8% and 53.5%, respectively."
  },
  {
    "objectID": "analysis.html#statistical-modeling-gender-representation",
    "href": "analysis.html#statistical-modeling-gender-representation",
    "title": "Analysis",
    "section": "Statistical Modeling: Gender Representation",
    "text": "Statistical Modeling: Gender Representation\nThis linear regression model predicts male and female workforce representation in the construction and healthcare industries from the employment data of 2017.\n\n\n\n\n\n\n\n\n\nFor context:\n\nEach point on the graph corresponds to different major city/regions in the US, with its position determined by the male and female workforce counts for that location. The variable to determine location is named CBSA in the dataset. A CBSA code is a five-digit FIPS code that identifies a Core Based Statistical Area, which is a geographic area in the United States that includes a core urban area and surrounding communities.\nThe x-axis is the Male Workforce Count\nThe y-axis is the Female Workforce Count\n\nOur Thought Process:\n\nOriginally, when we started this analysis portion of the data. It was difficult/time-consuming to run more than 3 industries, so we focused on Construction and Health Care.\nIn addition, we removed outliers using our best friend, the Interquartile Range, so that the scatterplot could show the trend that the majority of the locations portrayed.\nSince we only had to compare the two, it’s easier to portray them in a scatterplot and look at the trends accordingly.\n\nAnalysis:\n\nJust looking at the graph, we can see that the trend for Construction leans heavily toward the Male Workforce Count. The line of best fit suggests that the ratio of having women in construction is 1:9. While the point do show an exponential trend, the general idea that males are more present in the Construction industry do hold.\nFor Healthcare, our line of best fit suggests that the ratio of having men in the healthcare industry is 1:4. The ratio isn’t as drastic as the Construction ratio, but still shocking to see because there are male dominated specialties in healthcare."
  },
  {
    "objectID": "analysis.html#statistical-modeling-wage-distribution",
    "href": "analysis.html#statistical-modeling-wage-distribution",
    "title": "Analysis",
    "section": "Statistical Modeling: Wage Distribution",
    "text": "Statistical Modeling: Wage Distribution\nThis model associates racial distributions across industries with varying median wages, and seeks to understand how the proportions of different races change as the income level of the job changes.\n\n\nMatching 3-digit NAICS codes:\n\n\n [1] \"113\" \"211\" \"212\" \"213\" \"236\" \"237\" \"238\" \"321\" \"327\" \"331\" \"332\" \"333\"\n[13] \"334\" \"335\" \"336\" \"337\" \"339\" \"311\" \"322\" \"325\" \"326\" \"423\" \"424\" \"425\"\n[25] \"441\" \"444\" \"445\" \"481\" \"484\" \"485\" \"488\" \"492\" \"493\" \"221\" \"512\" \"517\"\n[37] \"518\" \"519\" \"522\" \"523\" \"524\" \"531\" \"532\" \"541\" \"551\" \"561\" \"562\" \"621\"\n[49] \"622\" \"623\" \"624\" \"711\" \"712\" \"713\" \"721\" \"722\" \"811\" \"812\" \"813\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFor context:\n\nEach point on the graph corresponds to the proportion difference from the mean for each race for a particular job, where the points that belong to the same job line up vertically (as they would have the same median wage). A point at 0 would mean that the proportion of the race that works in that particular industry is identical to the proportion of that race in the whole population, while above or below shows over or under representation respectively.\nThe x-axis is the median wage of the job in question.\nThe y-axis is the proportion difference of the racial demographics from the mean proportion in the overall population, as a percentage (for instance, a mean difference of 4000 would mean that that particular race is over represented by a factor of 40 in that particular industry).\n\nOur Thought Process:\n\nWith access to wage data, we could gain a deeper insight into why the differences in distribution between races and industries mattered, as it could show inequality in earning potential that might reveal some element of discrimination or systematic inequality.\n\nAnalysis:\n\nJust looking at the graph, we can see that white people are generally under represented in most of the lower income jobs that we pulled for analysis, while Black and Hispanic people are somewhat over represented, in comparison to their proportion of the whole population. On the other end, looking at higher income jobs, White and Asian people are generally over represented, showing a general inequality with the distribution of wages that favors White people and Asian people."
  },
  {
    "objectID": "analysis.html#graphs-and-model-limitations",
    "href": "analysis.html#graphs-and-model-limitations",
    "title": "Analysis",
    "section": "Graphs and Model Limitations",
    "text": "Graphs and Model Limitations\nThe results highlighted some limitations.\nMissing Data:\n\nThe presence of missing values and non-numeric entries in the dataset could skew the results and cause certain industries to not be presented as clearly.\n\nOther Limitations:\n\nThe models assume linear relationships between predictors and outcomes, which may not always hold.\nThe choice to use IQR could also impact predictions for over-populated areas where job representation are likely more diverse."
  },
  {
    "objectID": "big_picture.html",
    "href": "big_picture.html",
    "title": "Big Picture",
    "section": "",
    "text": "Author: Group 5\nPublished: December 18, 2024\n\n\n\n\nIn 2022, the U.S. workforce continued to show significant disparities when it comes to job types, race, and gender. This article takes a closer look at those trends, aiming to understand how these factors impact representation and wage distribution across different sectors. Our goal is to uncover patterns of inequality, while also highlighting where progress has been made and where challenges still exist.\nBy analyzing the relationship between race, gender, and employment type, we gain a better understanding of the ongoing systemic inequalities within the workforce. This isn’t just about comparing how jobs are distributed across different racial and gender groups; it’s also about looking at how wages and job roles are shifting over time.\nSince the United States is predominantly white, we can expect to see trends skewed in that direction; however, we will do our best to provide analysis outside of population count.\n\n\n\n\nDo you ever think about how different racial and gender groups are represented in the workforce, how wages are distributed across various job types, and how these trends have evolved over time? Probably not, but we did. By examining data across job sectors (using NAICS categories) and comparing it by race and gender, we get a clearer understanding of where inequality persists, as well as where certain groups are either underrepresented or overrepresented.\nWe highlight key insights such as:\n\nWhich industries are dominated by certain races or genders?\nThe persistence of the wage gap?\nWhich job types have seen the most growth for specific racial and gender groups?\n\n\n\n\n\n\n\n\nProportionality of Race\n\n\nAccording to the 2022 Equal Employment Opportunity (EEO-1) dataset, the United States workforce is split into these 7 races: American Indian or Alaska Native, Asian, Black or African American, Hispanic, Native Hawaiian or Other Pacific islander, Two or more races, and White.\n\n\n\n\nProportionality of Jobs by Type\n\n\nUsing the same information, we also present the proportionality of the Job Type Categories the 2022 Equal Employment Opportunity (EEO-1) dataset focused on: Clericals, Craft, Laborers, Mid Officers and Managers, Operatives, professionals, Sales Workers, Senior Officers and Managers, Services, and Technicians.\n\n\n\n\nProportionality of Gender\n\n\nLastly, this is the split of males and females in the United States.\n\nNow, we get to the fun stuff.\n\n\n\nProportional Representation by Job Type and Gender\n\n\nThis plot visualizes the proportional representation of genders across various job types. Each facet represents a different job category (e.g., Senior Officers and Managers, Professionals, Technicians, etc.), with the y-axis showing the percentage of each gender within that job type. The percentages are calculated by dividing the count of each gender by the total count for the respective job type, allowing us to see how each gender is represented proportionally within each job category. The x-axis represents gender, and the bars display the percentage of men and women in each job type. The y-axis is adjusted for each facet to better accommodate the varying percentage scales across different job categories. The plot is designed to help identify gender disparities across job categories and offers a clear comparison of gender distribution for each job type.\n\n\n\n\nProportional Representation by Job Type and Race\n\n\nSimilarly, this plot displays the workforce count representation of different races across various job types. Each facet represents a specific job category (e.g., Senior Officers and Managers, Professionals, Technicians, etc.). Within each facet, bars show the count of workers from different racial groups (e.g., White, Black, Hispanic) for that particular job type. The counts are visualized as bar heights, making it easy to compare the racial distribution within each job category. The x-axis represents the race categories. The y-axis is adjusted for each facet, with “free_y” scaling to accommodate different ranges for each job type. This plot helps identify racial disparities in job type representation and allows a visual comparison of racial diversity across job categories.\n\nSince one dataset isn’t enough, we incorporated a second that talks money.\nFrom the link below, you will be brought to the US Bureau of Labor Statistics that provides hourly and weekly earnings for employees according to the NAICS job industry standards.\nClick here to visit the website\nWithin each of the 10 Job Categories, there may or may not be more precise job types for them. The NAICS2 variable brings out that for us to look at.\n\n\n\nAverage Wage by NAICS2 Name\n\n\nThis plot displays the average wages across various sectors, with each bar representing a different industry sector. The sectors are listed on the vertical axis, and the corresponding average wage is shown on the horizontal axis. This visualization provides insights into how wages differ between sectors, highlighting which industries offer higher or lower average compensation.\nI don’t know about you, but working in finance and insurance sounds like a great deal!\n\nWe also present a deeper look into even more niche job titles from the wage dataset.\n\n\n\nAverage Wage by NAICS3 Name\n\n\nThis bar chart illustrates the average wages across different NAICS3 sectors, with each bar representing a sector. The sectors are displayed on the vertical axis, while the horizontal axis shows the average wage for each sector as of October 2023. The chart is flipped horizontally for better readability, allowing for easier comparison of wage levels across sectors. This visualization highlights wage disparities between job industries at a more granular NAICS3 level.\n\nFinally, combining our wage data with the racial distribution data set, we analyzed 52 jobs (with 3 digit NAICS codes) for which entries existed in both data sets, looking at how different ethnic groups were distributed across jobs with differing average wage levels (specifically focusing on the median wages seen in August of 2024 for each industry).\n\n\n\nDifference from Mean Racial Representation as a Function of Wage\n\n\nWhile data is a little sparse for higher income jobs, we see right away that generally, white people are significantly underrepresented in most lower wage jobs, while Black people and Hispanic people are somewhat over represented, meaning that a higher proportion than their mean proportion of the population is represented in these jobs. At the same time, Asian and White people are over represented among the higher income jobs.\n\n\n\n\nRecording\n\n\n\nThis interactive allows you to input two variables: CBSA and Race\n\nA CBSA code is a five-digit FIPS code that identifies a Core-Based Statistical Area, which is a metropolitan or micropolitan statistical area)\nRace: 7 categories\n\nIt’ll, then, output the information from the employment data for different job types across various races for the years 2017 and 2022. It’s a fun interactive that lets the user visually compare the employment counts between 2017 and 2022. Try it out!\n\n\nShiny applications not supported in static R Markdown documents"
  },
  {
    "objectID": "big_picture.html#thesisgoal",
    "href": "big_picture.html#thesisgoal",
    "title": "Big Picture",
    "section": "",
    "text": "In 2022, the U.S. workforce continued to show significant disparities when it comes to job types, race, and gender. This article takes a closer look at those trends, aiming to understand how these factors impact representation and wage distribution across different sectors. Our goal is to uncover patterns of inequality, while also highlighting where progress has been made and where challenges still exist.\nBy analyzing the relationship between race, gender, and employment type, we gain a better understanding of the ongoing systemic inequalities within the workforce. This isn’t just about comparing how jobs are distributed across different racial and gender groups; it’s also about looking at how wages and job roles are shifting over time.\nSince the United States is predominantly white, we can expect to see trends skewed in that direction; however, we will do our best to provide analysis outside of population count."
  },
  {
    "objectID": "big_picture.html#the-story-behind-the-data",
    "href": "big_picture.html#the-story-behind-the-data",
    "title": "Big Picture",
    "section": "",
    "text": "Do you ever think about how different racial and gender groups are represented in the workforce, how wages are distributed across various job types, and how these trends have evolved over time? Probably not, but we did. By examining data across job sectors (using NAICS categories) and comparing it by race and gender, we get a clearer understanding of where inequality persists, as well as where certain groups are either underrepresented or overrepresented.\nWe highlight key insights such as:\n\nWhich industries are dominated by certain races or genders?\nThe persistence of the wage gap?\nWhich job types have seen the most growth for specific racial and gender groups?"
  },
  {
    "objectID": "big_picture.html#visualizing-workforce-trends",
    "href": "big_picture.html#visualizing-workforce-trends",
    "title": "Big Picture",
    "section": "",
    "text": "Proportionality of Race\n\n\nAccording to the 2022 Equal Employment Opportunity (EEO-1) dataset, the United States workforce is split into these 7 races: American Indian or Alaska Native, Asian, Black or African American, Hispanic, Native Hawaiian or Other Pacific islander, Two or more races, and White.\n\n\n\n\nProportionality of Jobs by Type\n\n\nUsing the same information, we also present the proportionality of the Job Type Categories the 2022 Equal Employment Opportunity (EEO-1) dataset focused on: Clericals, Craft, Laborers, Mid Officers and Managers, Operatives, professionals, Sales Workers, Senior Officers and Managers, Services, and Technicians.\n\n\n\n\nProportionality of Gender\n\n\nLastly, this is the split of males and females in the United States.\n\nNow, we get to the fun stuff.\n\n\n\nProportional Representation by Job Type and Gender\n\n\nThis plot visualizes the proportional representation of genders across various job types. Each facet represents a different job category (e.g., Senior Officers and Managers, Professionals, Technicians, etc.), with the y-axis showing the percentage of each gender within that job type. The percentages are calculated by dividing the count of each gender by the total count for the respective job type, allowing us to see how each gender is represented proportionally within each job category. The x-axis represents gender, and the bars display the percentage of men and women in each job type. The y-axis is adjusted for each facet to better accommodate the varying percentage scales across different job categories. The plot is designed to help identify gender disparities across job categories and offers a clear comparison of gender distribution for each job type.\n\n\n\n\nProportional Representation by Job Type and Race\n\n\nSimilarly, this plot displays the workforce count representation of different races across various job types. Each facet represents a specific job category (e.g., Senior Officers and Managers, Professionals, Technicians, etc.). Within each facet, bars show the count of workers from different racial groups (e.g., White, Black, Hispanic) for that particular job type. The counts are visualized as bar heights, making it easy to compare the racial distribution within each job category. The x-axis represents the race categories. The y-axis is adjusted for each facet, with “free_y” scaling to accommodate different ranges for each job type. This plot helps identify racial disparities in job type representation and allows a visual comparison of racial diversity across job categories.\n\nSince one dataset isn’t enough, we incorporated a second that talks money.\nFrom the link below, you will be brought to the US Bureau of Labor Statistics that provides hourly and weekly earnings for employees according to the NAICS job industry standards.\nClick here to visit the website\nWithin each of the 10 Job Categories, there may or may not be more precise job types for them. The NAICS2 variable brings out that for us to look at.\n\n\n\nAverage Wage by NAICS2 Name\n\n\nThis plot displays the average wages across various sectors, with each bar representing a different industry sector. The sectors are listed on the vertical axis, and the corresponding average wage is shown on the horizontal axis. This visualization provides insights into how wages differ between sectors, highlighting which industries offer higher or lower average compensation.\nI don’t know about you, but working in finance and insurance sounds like a great deal!\n\nWe also present a deeper look into even more niche job titles from the wage dataset.\n\n\n\nAverage Wage by NAICS3 Name\n\n\nThis bar chart illustrates the average wages across different NAICS3 sectors, with each bar representing a sector. The sectors are displayed on the vertical axis, while the horizontal axis shows the average wage for each sector as of October 2023. The chart is flipped horizontally for better readability, allowing for easier comparison of wage levels across sectors. This visualization highlights wage disparities between job industries at a more granular NAICS3 level.\n\nFinally, combining our wage data with the racial distribution data set, we analyzed 52 jobs (with 3 digit NAICS codes) for which entries existed in both data sets, looking at how different ethnic groups were distributed across jobs with differing average wage levels (specifically focusing on the median wages seen in August of 2024 for each industry).\n\n\n\nDifference from Mean Racial Representation as a Function of Wage\n\n\nWhile data is a little sparse for higher income jobs, we see right away that generally, white people are significantly underrepresented in most lower wage jobs, while Black people and Hispanic people are somewhat over represented, meaning that a higher proportion than their mean proportion of the population is represented in these jobs. At the same time, Asian and White people are over represented among the higher income jobs."
  },
  {
    "objectID": "big_picture.html#video-recording",
    "href": "big_picture.html#video-recording",
    "title": "Big Picture",
    "section": "",
    "text": "Recording\n\n\n\nThis interactive allows you to input two variables: CBSA and Race\n\nA CBSA code is a five-digit FIPS code that identifies a Core-Based Statistical Area, which is a metropolitan or micropolitan statistical area)\nRace: 7 categories\n\nIt’ll, then, output the information from the employment data for different job types across various races for the years 2017 and 2022. It’s a fun interactive that lets the user visually compare the employment counts between 2017 and 2022. Try it out!\n\n\nShiny applications not supported in static R Markdown documents"
  }
]